openapi: 3.0.0
info:
  title: Описание интерфейса Rest API ПроФреш
  description: >-
    Обмен осуществляется отправки запросов на сервер лог провайдера.

    Ваш базовый идентификатор WMSID - это код который придоставляется вам лог.
    провайдером при заключении договора сотрудничества.


    Авторизация: метод авторизации Basic Auth (указание логина и паролы) +
    APIKEY в Заголвке запроса (имя поля apikey). Данные авторизации
    предоставляются отдельно по писменому запросу к лог. оператору. Сначало для
    тестового контруа, после отладки к рабочему.


    Полезные ссылки:

    - [Сайт компании ООО "ПроФреш"](https://profresh.ru/)
  contact:
    name: ПроФреш API Support
    url: https://profresh.ru/api
    email: it.prog@profresh.pro
  version: 2.1.1
servers:
  - url: http://85.236.20.50:8787/sklad_sav/hs/wmsapi/v2/
    description: Тестовый API сервер
  - url: http://85.236.20.50:8787/sklad/hs/wmsapi/v2/
    description: Рабочий API сервер
tags:
  - name: shipment
    description: Заявки на отгрузку
    externalDocs:
      description: читать подробнее...
      url: https://profresh.ru/shipment
  - name: reception
    description: Заявки на приемку
    externalDocs:
      description: читать подробнее...
      url: https://profresh.ru/reception
  - name: additionally
    description: Дполнеительные методы
    
      
paths:
  /postshipment:
    post:
      tags:
        - shipment
      summary: Создать / обновить Заявку на ОТГРУЗКУ
      description: Создать / обновить Заявку на ОТГРУЗКУ. Обновление возможно только для взятия документа в работу на складе лог. провайдера. После взятия заявки в работу допускается изменение доп. данных заявки черезе отдельный метода updateshipment
      operationId: postshipment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestBody_PostShipment'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: "0033"
          
  /updateshipment:
    post:
      tags:
        - shipment
      summary: Обновление доп. данных во взятой в работу Заявки на ОТГРУЗКУ 
      description: Запрос на обновление дополнительной информации по взятой в работу Заявке на ОТГРУЗКУ (номер накладной, список точек перегруза для Меркурий, гос. номер авто-ля самовывоза для Меркурий)
      operationId: updateshipment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestBody_UpdateShipment'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033
          
  /getshipmentresult:
    post:
      tags:
        - shipment
      summary: Получение результатов обработки Заявок на ОТГРУЗКУ
      description: Запрос на получение результатов обработки Заявок на ОТГРУЗКУ. Вариант отбора заявок определяется в параметры DATA данного запроса
      operationId: getshipmentresult
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/inDevelopment_RequestBody'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033

  /getshipmentreturn:
    post:
      tags:
        - shipment
      summary: Получение списка документов Возврат по Заявкам на ОТГРУЗКУ
      description: Получение списка документов Возврат по Заявкам на ОТГРУЗКУ. Вариант отбора заявок определяется в параметры DATA данного запроса
      operationId: getshipmentreturn
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/inDevelopment_RequestBody'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033


  /postreception:
    post:
      tags:
        - reception
      summary: Создать / обновить Заявку на ПРИЕМКУ
      description: Создать / обновить заявку на приемку
      operationId: postreception
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestBody_PostReception'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033
  
  /getreceptionresult:
    post:
      tags:
        - reception
      summary: Получение резульата обработки Заявок на ПРИЕМКУ
      description: Получение резульата обработки Заявок на ПРИЕМКУ
      operationId: getreceptionresult
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/inDevelopment_RequestBody'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033
          
  /getreceptionreturn:
    post:
      tags:
        - reception
      summary: Получение списка документов Возврат по заявке на ПРИЕМКУ
      description: Получение списка документов Возврат по заявке на ПРИЕМКУ
      operationId: getreceptionreturn
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/inDevelopment_RequestBody'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033
  
  /GetChanges:
    post:
      tags:
        - additionally
      summary: Получение списка изменений и результатов обработки заявок
      description: Получение списка изменений и результатов обработки заявок (с возможностью отбора)
      operationId: GetChanges
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestBody_GET'
            
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033

  /РostProduct:
    post:
      tags:
        - additionally
      summary: Создать обновить Товар (справочные данные)
      description: Создать обновить Товар (справочные данные)
      operationId: РostProduct
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/inDevelopment_RequestBody'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033

  /PostContractor:
    post:
      tags:
        - additionally
      summary: Создать обновить Контрагента (справочные данные)
      description: Создать обновить Контрагента (справочные данные)
      operationId: PostContractor
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/inDevelopment_RequestBody'
      responses:
        '200':
          description: ОК
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResponsBody'
        '400':
          description: >-
            Ошибка в парамтерах со стороны поставщика, не указан входной
            параметр WMSID
        '401':
          description: Ошибка аутентификации (логин, пароль, apikey)
        '403':
          description: Не настроен API доступ стороны лог. провайдера
        '404':
          description: Ошбика со стороны лог. блокировка параллельной обработкой данных
        '5XX':
          description: >-
            Ошибка сервера лог. провайдера. Отправьте запрос повторно. В случае
            повторения ошибки сообщите лог. проавйдеру на почту
            it.prog@profresh.pro
      parameters:
        - name: wmsid
          in: query
          description: >-
            Код клиента, выдается лог. провайдером при заключении договора о
            сотрудничестве
          required: true
          schema:
            type: string
          example: 0033

          
components:
  schemas:
  
    RequestBody_PostShipment:
      type: object
      description: Шапка запроса (Заявки на ОТГРУЗКУ)
      required:
        - date
        - pcname
        - action
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования запроса
          example: 2022-12-12T09:48:54.000Z
        pcname:
          type: string
          description: Имя компьютера сформировавшего запрос
          example: srv1
        action:
          type: string
          description: Имя метода (дублирует имя метода в адресной сторке)
          example: postshipment
        wmsid:
          type: string
          maxLength: 4
          description: Код клиента, выдается лог. провайдером при заключении договора о сотрудничестве. Тот же что и в адресной строке запроса.
          example: "0033"
        data:
          type: array
          items:
            $ref: '#/components/schemas/Shipment'
          description: Список заявок на ОТГРУЗКУ
    RequestBody_UpdateShipment:
      type: object
      description: Шапка запроса (обновление взятой в работу Заявки на ОТГРУЗКУ)
      required:
        - date
        - pcname
        - action
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования запроса
          example: 2022-12-12T09:48:54.000Z
        pcname:
          type: string
          description: Имя компьютера сформировавшего запрос
          example: srv1
        action:
          type: string
          description: Имя метода (дублирует имя метода в адресной сторке)
          example: updateshipment
        wmsid:
          type: string
          maxLength: 4
          description: Код клиента, выдается лог. провайдером при заключении договора о сотрудничестве. Тот же что и в адресной строке запроса.
          example: "0033"
        data:
          type: array
          items:
            $ref: '#/components/schemas/ShipmentUpdate'
          description: Список идентификаторов заявок на ОТГРУЗКУ + значения обновляемых полей         
    RequestBody_PostReception:
      type: object
      description: Шапка запроса (Заявки на ПРИЕМКУ)
      required:
        - date
        - pcname
        - action
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования запроса
          example: 2022-12-12T09:48:54.000Z
        pcname:
          type: string
          description: Имя компьютера сформировавшего запрос
          example: srv1
        action:
          type: string
          description: Имя метода (дублирует имя метода в адресной сторке)
          example: postshipment
        wmsid:
          type: string
          maxLength: 4
          description: Код клиента, выдается лог. провайдером при заключении договора о сотрудничестве. Тот же что и в адресной строке запроса.
          example: "0033"
        data:
          type: array
          items:
            $ref: '#/components/schemas/Reception'
          description: Список заявок на ПРИЕМКУ
    RequestBody_COMMON:
      type: object
      description: Шапка запроса. Ипользуется во всех запросах, в поле 'data' передается соответсвующий типу запросу тип данных.
      required:
        - date
        - pcname
        - action
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования запроса
          example: 2022-12-12T09:48:54.000Z
        pcname:
          type: string
          description: Имя компьютера сформировавшего запрос
          example: srv1
        wmsid:
          type: string
          maxLength: 4
          description: Код клиента, выдается лог. провайдером при заключении договора о сотрудничестве. Тот же что и в адресной строке запроса.
          example: "0033"
        action:
          type: string
          description: Имя метода (дублирует имя метода в адресной сторке)
          enum: [postshipment, updateshipment shipment, postreception, getchenges]
          example: postshipment
        data:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/Shipment'
              - $ref: '#/components/schemas/ShipmentUpdate'
              - $ref: '#/components/schemas/Reception'
              - $ref: '#/components/schemas/GetRequestFilter'
          description: Массив объектов передаваемых в запросе, тип объекта зависит от тип запроса
    RequestBody_GET:
      type: object
      description: Шапка запроса. Ипользуется во всех запросах, выборки документов
      required:
        - date
        - pcname
        - action
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования запроса
          example: 2022-12-12T09:48:54.000Z
        pcname:
          type: string
          description: Имя компьютера сформировавшего запрос
          example: srv1
        action:
          type: string
          description: Имя метода (дублирует имя метода в адресной сторке)
          enum: [postshipment, updateshipment shipment, postreception, getchenges]
          example: postshipment
        wmsid:
          type: string
          maxLength: 4
          description: Код клиента, выдается лог. провайдером при заключении договора о сотрудничестве. Тот же что и в адресной строке запроса.
          example: "0033"
        data:
          type: array
          items:
            $ref: '#/components/schemas/GetRequestFilter'
          description: Массив объектов передаваемых в запросе, тип объекта зависит от тип запроса
      
    Shipment:
      description: Объект "Заявка на отгрузку"
      type: object
      required:
        - ИД
        - Номер
        - ДатаПоставки
        - ТипДокумента
        - ЭтоСамовывоз
        - Проведен
        - АдресДоставки
        - СуммаДокумента
        - Вес
        - Контрагент
        - Филиал
        - Товары
        - ПечатныеФормы
      properties:
        ИД:
          type: string
          maxLength: 36
          example: 5535f338-fd9e-4556-93da-d05351c46330
          description: Уникальный ID заказа
        Номер:
          type: string
          maxLength: 30
          example: 889843257
          description: >-
            Номер в учетной системе заказчика (для зрительной идентификации
            операторами)
        ДатаПоставки:
          type: string
          format: date
          maxLength: 20
          example: 2022-12-30T00:00:00.000Z
          description: Желаемая дата доставки заказа
        ТипДокумента:
          type: string
          format: integer
          maxLength: 1
          example: 1
          description: |-
            Тип документа:
            * 1 - Заявка на отгрузку "Логистика" (сбока и доставка)
            * 4 – Заявка на отгрзку "Крос-доккинг" (доставка)
            * 2 – Заявка на забор возврата от клиента
        ЭтоСамовывоз:
          type: boolean
          example: false
          description: >-
            Флаг «Самовывоз».

            Если это Заказ на сборку (ТипДокумента=1), тогда:

            *  Истина  – Заказ с доставкой (по-умолчанию). 

            *  Ложь – Самовывоз, доставка НЕ осуществляется. 


            Если это Заказ на возврат от клиента (ТипДокумента=2), тогда

            *  Истина – возврат будет получен только в том случае если есть
            доставка заказов на этот адрес.

            *  Ложь  – возврат будет получен только в том случае если есть
            доставка заказов на этот адрес.
        Проведен:
          type: boolean
          example: true
          description: >
            Признак активности заказа но доставку 

            * Для отмены ранее загруженого заказа его можно выгрузить повторно с
            признаком Проведен=Ложь
        АдресДоставки:
          type: string
          maxLength: 250
          example: Москва, ул. Радужная, д. 43
          description: >-
            Фактический адрес точки доставки, если доставка до Транспортной
            компании (далее ТК), тогда адрес ТК. Адрес должен быть заполнен
            согласно КЛАД. Адрес не должен содержать уточняющие комментарии
            (комментарии нужно передавать в поле COMMENT).
        ВременноеОкно:
          type: string
          maxLength: 11
          example: 09:30~18:00
          description: >-
            Временное оно доставки, в формате «ЧЧ:ММ~ЧЧ:ММ». Внимание! Интервал
            описывается только цифрами. Минуты не учитываются. Совпадение начала
            и конца интервала считаются ошибочными. В случае ошибки или не
            заданного значения используется стандартное время с 9:30 до 18
            часов.
        ЦенаВключаетНДС:
          type: number
          format: float
          example: true
          description: Вариант расчета НДС
        СуммаДокумента:
          type: number
          format: float
          example: 1564.5
          description: Желаемая дата доставки заказа
        Вес:
          type: number
          format: float
          example: 50
          description: Общий вес брутто по документу [кг]
        Контрагент:
          type: object
          $ref: '#/components/schemas/Partner'
          description: Описание контрагента / юр. лица получателя
        Филиал:
          type: object
          $ref: '#/components/schemas/Partner'
          description: Описание контрагента / юр. лица получателя
        Товары:
          type: array
          items:
            type: object
            $ref: '#/components/schemas/Product'
          description: Описание товаров в заказе
        ПечатныеФормы:
          type: array
          items:
            type: object
            $ref: '#/components/schemas/PrintForm'
          description: >-
            В этом массиве описывается состав и свойства печатных форм,
            требуемых к распечатке по заказу на доставку
    ShipmentUpdate:
      description: Объект "Заявка на отгрузку" (для обновление взятого в работу документа)
      type: object
      required:
        - ИД
      properties:
        ИД:
          type: string
          maxLength: 36
          example: 5535f338-fd9e-4556-93da-d05351c46330
          description: Уникальный ID заказа (идентификатор обновляемого объекта)
        Номер:
          type: string
          maxLength: 30
          example: 889843257
          description: Дополнительный вариант поиска обновляемого объекта по номеру и дате поставки
        ДатаПоставки:
          type: string
          format: date
          example: 2022-12-30
          description: Дополнительный вариант поиска обновляемого объекта по номеру и дате поставки
        НомерТТН:
          type: string
          example: БП002333
          description: Номер наклданой для вывода на печать. Например обновленный номер УПД. 
        КоличествоМест:
          type: integer
          example: 5
          description: Обновленное количество товарных мест 
        КоличествоПаллет:
          type: integer
          example: 1
          description: Обновленное количество паллет по заявке
   
    Reception:
      description: Объект "Заявка на приемку"
      type: object
      required:
        - ИД
        - Номер
        - НомерТТН
        - ДатаПоставки
        - Контрагент
      properties:
        ИД:
          type: string
          maxLength: 36
          example: 5535f338-fd9e-4556-93da-d05351c46330
          description: Уникальный ID заявки на приемку
        Номер:
          type: string
          maxLength: 30
          example: 889843257
          description: >-
            Номер в учетной системе заказчика (для зрительной идентификации
            операторами)
        НомерТТН:
          type: string
          maxLength: 30
          example: БП00545
          description: Номер накладной есил он известен, если нет оставить не заполненным
        ДатаПоставки:
          type: string
          format: date
          maxLength: 20
          example: 2022-12-30T00:00:00.000Z
          description: Ожидаемая дата поставки товара
        Контрагент:
          type: object
          $ref: '#/components/schemas/Partner'
          description: Описание контрагента / юр. лица поставщика товара
        Товары:
          type: array
          items:
            type: object
            $ref: '#/components/schemas/Product'
          description: Описание товаров в заказе
    Partner:
      type: object
      description: >-
        Справочник Контрагенты. По сути двух уровневый Контрагент
        (юр.лицо)/Филиал (грузполучатель). В случае использования в поле
        "Контрагент" описывает юридическое лицо, при использовании в поле
        "Филиал", описывает грузополучателя.
      required:
        - Код
        - Наименование
      properties:
        Код:
          type: string
          maxLength: 36
          example: К0001
          description: >-
            Номер в учетной системе заказчика (для зрительной идентификации
            операторами)
        Наименование:
          type: string
          maxLength: 150
          example: Рога и копыта
          description: Наименование контрагента, плательщика по документам Торг12 и СФ
        ИНН:
          type: string
          maxLength: 15
          example: 523456789789
          description: ИНН контрагента (плательщика)
        КПП:
          type: string
          maxLength: 15
          example: 789456123
          description: КПП контрагента (плательщика)
        ОКПО:
          type: string
          maxLength: 8
          example: 50235599
          description: ОКПО контрагента
        GLN:
          type: string
          maxLength: 15
          example: 78945612345
          description: GLN контрагента
        Адрес:
          type: string
          maxLength: 250
          example: Москва, ул. Радужная, д. 43
          description: Юр. адрес контрагента. Для грузополучателя указывается факт. адрес
        Банк:
          type: string
          maxLength: 150
          example: ПАО сбребанк
          description: Наименование банка контрагента
        БИК:
          type: string
          maxLength: 15
          example: 445557787
          description: БИК банка контрагента
        КорСчет:
          type: string
          maxLength: 30
          example: 460000000074897
          description: Номер кор. счета  банка контрагента
        РасчетныйСчет:
          type: string
          maxLength: 30
          example: 460000000074891
          description: Номер расчетный счет контрагента
        Телефон:
          type: string
          maxLength: 50
          example: 89627778899, 89627778850
          description: Телефон
    Product:
      type: object
      description: Номенклаура
      required:
        - ИД
        - Код
        - Наименование
        - Весовой
        - СрокХранения
        - Коэффициент
        - ШК
        - Количество
      properties:
        ИД:
          type: string
          maxLength: 36
          example: fe226852-2bd7-4b53-be16-784bd69b21f1
          description: Уникальный идентфикатор номенклатуры
        Код:
          type: string
          maxLength: 36
          example: Н0001
          description: Код номенклатуры
        Наименование:
          type: string
          maxLength: 150
          example: Колбаса докторская,  кг
          description: Наименование товара (Использвется в документах Торг12 и СФ)
        СрокХранения:
          type: integer
          maxLength: 4
          example: 12
          description: Срок годности товара в днях
        Весовой:
          type: boolean
          example: false
          description: Признак весового товара
        Коэффициент:
          type: integer
          example: 0.55
          description: >-
            Вес одной единицы штучного товара (базовая ЕИ) в кг. Для весового
            товара = 1
        УпакИмя:
          type: string
          maxLength: 10
          example: коробка
          description: >-
            Наименование упаковки товара (Используется при печати ТОРГ12) (вид
            упаковки)
        УпакКратность:
          type: number
          format: float
          example: 3
          description: >-
            Количество единиц товара в одной упаковке. (Используется в печати
            ТОРГ12)
        ШК:
          type: string
          maxLength: 250
          example: 4612357894564
          description: >-
            Штриховой код товара. Допускается перечисление нескольких ШК через
            символ "~"
        Количество:
          type: integer
          example: 3
          description: Количество товара (в базовой ед. измерения)
        Цена:
          type: number
          format: float
          example: 100
          description: Цена товара без НДС
        ЦенаСНДС:
          type: number
          format: float
          example: 0
          description: >-
            Цена товара с НДС:

            * Если 0 тогда при расчете сумм, НДС начисляется «сверху» исходя из
            значения поля CENA-«Цена товара без НДС». 

            * Если >0 тогда при расчете сумм, НДС начисляется «снизу» исходя из
            значение поля CENASNDS- Цена товара с НДС
        НДС:
          type: integer
          example: 20
          description: Ставка НДС
        СуммаНДС:
          type: number
          format: float
          example: 60
          description: Сумма НДС
        Сумма:
          type: number
          format: float
          example: 360
          description: Сумма товара с НДС
        GUID:
          type: string
          maxLength: 36
          example: fe226852-2bd7-4b53-be16-784bd69b21f1
          description: GUID наименования продукции в системе Меркурий [productItem.GUID]
        безВСД:
          type: boolean
          example: false
          description: Не требуется оформление эл. ВСД на данный товар
        мркСпособХраненияПриПеревозке:
          type: string
          maxLength: 15
          example: Охлажденный
          enum: [Замороженный,Охлажденный,Охлаждаемый,Вентилируемый]
          description: >-
            Способ хранения при перевозке (узел delivery.transportStorageType)
            для указания в оформляемых транспортных ВСД, по умолчанию :
            «Охлажденный». 


            Возможные варианты значения:

            * Замороженный

            * Охлажденный

            * Охлаждаемый

            * Вентилируемый
        мркРезультатЛабИсследования:
          type: string
          maxLength: 30
          example: ПодвергнутоСырьёДляПродукции
          enum: [ПодвергнутоСырьёДляПродукции,ПодвергнутаВсяПродукция,Неизвестен,НевозможноОпределить,ПоложительныйРезультат,ОтрицательныйРезультат,ОтрицательныйРезультат,НеПроводилось]
          description: >-
            Тип, описывающий результат лабораторного
            исследования/ВСЭ.(https://help.vetrf.ru/wiki/ResearchResult_v2.0) по
            умолчанию :«ПодвергнутаВсяПродукция». 


            Варианты:

            * ПодвергнутоСырьёДляПродукции

            * ПодвергнутаВсяПродукция

            * Неизвестен

            * НевозможноОпределить

            * ПоложительныйРезультат

            * ОтрицательныйРезультат

            * НеПроводилось
    PrintForm:
      type: object
      description: Печатная форма
      required:
        - КодПечатнойФормы
        - КоличествоКопий
        - Номер
      properties:
        КодПечатнойФормы:
          type: integer
          maxLength: 1
          example: 6
          description: |-
            Код печатной формы:
            1. Торг12 (обязательное)
            2. СФ (обязательное)
            4. Товаро-транспортная накладная
            5. Счет на оплату покупателю
            6. УПД
        КоличествоКопий:
          type: integer
          maxLength: 2
          example: 2
          description: Количество копий печатной формы
        Номер:
          type: string
          maxLength: 150
          example: 2
          description: >-
            Номер документа для печатной формы (в точности как он должен
            выглядеть на печати)
        Дата:
          type: string
          maxLength: 15
          example: 2018-01-04T00:00:00.000Z
          description: Дата  документа для печатной формы
    ResponsBody:
      type: object
      required:
        - date
        - result
        - resultid
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования ответа на запрос
          example: 2022-12-12T09:48:54.000Z
        result:
          type: boolean
          example: true
          description: Общий результат обработки запроса (проверка на наличие общих ошибок)
        resultid:
          type: string
          description: идентификатор результата обработки запроса в базе лог. провайдера
          example: 338fd9b8-8ac8-46ae-91f2-bf64ea3966f6
        resulttext:
          type: string
          description: >-
            Описание общей ошибки выполнения при ее наличии (если общих ошибок
            нет, то пусто)
          example: null
        infolist:
          type: array
          items:
            type: integer
          description: Список информационных сообщений от лог. провайдера
          example: null
        data:
          type: array
          items:
            $ref: '#/components/schemas/ResponsBodyData'
    ResponsBodyData:
      type: object
      required:
        - ИД
        - Номер
        - лпИД
        - лпНомер
        - лпДата
        - Загружен
        - СписокОшибок
      properties:
        ИД:
          type: string
          maxLength: 36
          description: Идентификатор объекта, из полученного запроса
          example: 4521921946
        Номер:
          type: string
          maxLength: 30
          example: 4521921946
          description: Номер документа из полученного запроса
        лпИД:
          type: string
          maxLength: 36
          description: >-
            идентификатор присвоенный объекту (заявка на приемку, заявка на
            отгрузку) в базе лог. провайдера
          example: bdb6c056-79f8-11ed-80f8-000c290e4173
        лпНомер:
          type: string
          maxLength: 30
          description: >-
            Номер присвоенный объекту (заявка на приемку, заявка на отгрузку) в
            базе лог. провайдера
          example: 116644
        лпДата:
          type: string
          format: date-time
          description: >-
            Дата присвоенная объекту (заявка на приемку, заявка на отгрузку) в
            базе лог. провайдера
          example: 2022-12-12T11:41:16.000Z
        Загружен:
          type: boolean
          example: false
          description: >-
            Признак успешной загрузки объекта (заявка на приемку, заявка на
            отгрузку) из запроса
        СписокОшибок:
          type: array
          items:
            $ref: '#/components/schemas/Error'
          description: Список информационных сообщений от лог. провайдера
    Error:
      type: object
      required:
        - ОшибкаКод
        - ОшибкаИмя
        - ОшибкаТекст
        - Критическая
      properties:
        ОшибкаКод:
          type: string
          maxLength: 3
          description: Код вида ошибки
          example: 67
        ОшибкаИмя:
          type: string
          maxLength: 50
          description: Наименование вида ошибки
          example: Поступление уже принято
        ОшибкаТекст:
          type: string
          maxLength: 150
          description: Подробное описание текущей ошибки
          example: >-
            В базе ПроФреш по номеру найдено уже принятое поступление
            №4521921946 от 14.12.2022. Обновить его нельзя. ВАЖНО!!! Номер
            заявки на приемку должен быть уникальным в пределах года!
        Критическая:
          type: boolean
          example: true
          description: >-
            Признак критичнсоти ошибки. При наличии критичестких ошибок документ
            не может быть загружен и обработае лог. провайдером
    GetRequestFilter:
      type: object
      properties:
        Вид:
          type: string
          description: |-
            Вариант отбор объектов для выгрузки (допускается незаполненный):
              * ИД - будет вовращен объект с данным идентификатором (ваши иденияикатор)
              * Дата - будут возвращены все объекты переданные вами с указанием данной даты/датыпоставки
              * лпИД - поиск по ИД лог провайдера, тот ИД который вернулся от лог провайдера при первичной загрузке объекта
              * лпДата - поиск по дате лог. провайдера. Будут возвращены все объекты указанного типа иеющиеся в базе лок. провайдера на указанную дату
          enum: [ИД,Дата,лпИД,лпДата]
          example: ИД
        ИД:
          type: string
          maxLength: 36
          description: Значение отбора по ИД (допускается незаполненный)
          example: bcf55a85-fa56-4f43-a2bb-b8e567134e29
        Дата:
          type: string
          format: date
          description: Значение отбора по Дате (допускается незаполненный)
          example: 2022-12-12
        лпИД:
          type: string
          maxLength: 36
          description: Значение отбора по лпИД (допускается незаполненный)
          example: 2c4a6daf-e06f-4992-a689-20af77b847ab
        лпДата:
          type: string
          format: date
          description: Значение отбора по лпДате (допускается незаполненный)
          example: 2022-12-12    
    GetResponsBody:
      type: object
      required:
        - date
        - result
        - resultid
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования ответа на запрос
          example: 2022-12-12T09:48:54.000Z
        result:
          type: boolean
          example: true
          description: Общий результат обработки запроса (проверка на наличие общих ошибок)
        resultid:
          type: string
          description: идентификатор результата обработки запроса в базе лог. провайдера
          example: 338fd9b8-8ac8-46ae-91f2-bf64ea3966f6
        resulttext:
          type: string
          description: >-
            Описание общей ошибки выполнения при ее наличии (если общих ошибок
            нет, то пусто)
          example: null
        infolist:
          type: array
          items:
            type: integer
          description: Список информационных сообщений от лог. провайдера
          example: null
        data:
          type: object
          description: Структура содержит ключи согласно типу выгружаеых объектов. В каждом узле выгуржается массив соответсвующих объектов
          properties:
            shipmentresult:
              type: array
              description: Массив объектов Заявка на ОТГРУЗКУ (резульат отгрузки по заявке)
              items: 
                $ref: '#/components/schemas/GetResponseObject'  
            shipmentreturn:
              type: array
              description: Массив объектов Возврат от клиента
              items: 
                $ref: '#/components/schemas/GetResponseObject'    
            receptionresult:
              type: array
              description: Массив объектов Заявка на ПРИЕМКУ (резульат отгрузки по заявке)
              items: 
                $ref: '#/components/schemas/GetResponseObject'    
            receptionreturn:
              type: array
              description: Массив объектов Возврат посатвщику
              items: 
                $ref: '#/components/schemas/GetResponseObject'    
            сorrection:
              type: array
              description: Массив объектов корректирвокка партий
              items: 
                $ref: '#/components/schemas/GetResponseObject'    
            Invent:
              type: array
              description: Массив объектов Инвентаризация
              items: 
                $ref: '#/components/schemas/GetResponseObject'    
            shipmentMmsmatch:
              type: array
              description: Массив объектов Акты о расхождении при приемке
              items: 
                $ref: '#/components/schemas/GetResponseObject'    
    GetResponseObject:
      type: object
      required:
        - ИД
        - Номер
        - Дата
        - лпИД
        - лпНомер
        - лпДата
        - ДатаТТН
        - НомерТТН
        - лпКомментарий
        - Проведен
        - Товары
      description: Шапка объекта (выгрузка от лог. проавйдера)
      properties:
        ИД:
          type: string
          maxLength: 36
          description: Уникальный идентификатор объекта, получен от вас при загрузке
          example: bcf55a85-fa56-4f43-a2bb-b8e567134e29
        Номер:
          type: string
          maxLength: 36
          description: Номер (визуальный идентификатор), получен от вас при загрузке
          example: БП003434
        Дата:
          type: string
          format: date
          description: Дата объекта, полученная от вас при загрузке
          example: 2022-12-12
        лпИД:
          type: string
          maxLength: 36
          description: Уникальный идентификатор объекта, присвоенный на стороне лог. провайдера
          example: 2c4a6daf-e06f-4992-a689-20af77b847ab
        лпНомер:
          type: string
          maxLength: 36
          description: Номер (визуальный идентификатор), присвоенный на стороне лог. провайдера
          example: ЛП-00007665
        лпДата:
          type: string
          format: date
          description: Дата объекта,присвоенный на стороне лог. провайдера
          example: 2022-12-12   
        НомерТТН:
          type: string
          maxLength: 36
          description: Номер на бумажной накладной
          example: 3434
        ДатаТТН:
          type: string
          format: date
          description: Дата на бумажной накладной
          example: 2022-12-14   
        лпКомментарий:
          type: string
          maxLength: 150
          description: Номер на бумажной накладной
          example: Комментарий к текущему документу. Доставили в целости и сохранности.
        Проведен:
          type: boolean
          description: Признак активности документа
          example: true
        Товары:
          type: object
          description: Массив товаров документа
          properties:
            Товары:
              type: array
              items:
                $ref: '#/components/schemas/GetResponseObjectProduct' 
    GetResponseObjectProduct:
      type: object
      description: Товар объекта (выгрузка от лог. проавйдера)
    inDevelopment_RequestBody:
      type: object
      description: Описание запроса находится в разработке. В случае необходимости использования его отправтье запрос с описание ваших целей на почту it.prog@profresh.pro
      required:
        - date
        - pcname
        - action
        - data
      properties:
        date:
          type: string
          format: date-time
          description: Дата формирования запроса
          example: 2022-12-12T09:48:54.000Z
        pcname:
          type: string
          description: Имя компьютера сформировавшего запрос
          example: srv1
        action:
          type: string
          description: Имя метода (дублирует имя метода в адресной сторке)
          example: in development
        data:
          type: string
          description: Описание списка объектов находится в разработке


  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    ApiKeyAuth:
      type: apiKey
      in: header
      name: apikey
security:
  - basicAuth: []
  - ApiKeyAuth: []
